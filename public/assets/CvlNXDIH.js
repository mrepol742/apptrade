/**
 * Â© 2025 Melvin Jones Repol. All rights reserved.
 * This project is licensed under the MIT License with Commons Clause.
*/
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/C5iILJnb.js","assets/BM2A8Vx2.js","assets/9B36_FC7.js","assets/C1cqQ7o0.js","assets/TzjQA6-k.js","assets/DZQG51sY.js","assets/k-NSAY8B.js","assets/CFrBDmKk.js","assets/BS1w9-H_.js","assets/DKL8D26R.js","assets/tB9F7w_j.js","assets/DKE3ELOG.js","assets/Db3wldBe.js","assets/C9gmuDZP.js","assets/tOW48VjQ.js","assets/DWVSrkJm.js","assets/DOztx2Lm.js","assets/BVUK83VG.js","assets/B04leB8K.js","assets/DQwxmJFk.js","assets/CDqX9ydP.js","assets/BfAZIZgy.js"])))=>i.map(i=>d[i]);
import{r as e,R as s,j as a}from"./BM2A8Vx2.js";import{a as r,u as t}from"./D30L2gFl.js";import{_ as n}from"./D2urhalo.js";import{u as l,R as c,a as i,N as o,b as d,c as m}from"./DQwxmJFk.js";import{a as x,b as h,c as p,C as j,u,d as y,e as f,f as b,g,h as N,i as v,j as _,k as w,l as C,m as k,n as E,o as z,p as D,q as P,r as S,s as T,t as L,v as R,w as A,x as I,y as V,z as O,A as q,B as U,D as $,E as F,F as G,G as H,H as M,I as Q,J as B,K,L as J,M as Y,N as W,O as X,P as Z,Q as ee,R as se}from"./C1cqQ7o0.js";import{P as ae}from"./TzjQA6-k.js";import{S as re}from"./CqPLFfI1.js";import{F as te,f as ne,a as le,b as ce,c as ie,d as oe}from"./BOYjh9pT.js";import"./9B36_FC7.js";import"./CXy-kpCi.js";import"./DZQG51sY.js";import"./k-NSAY8B.js";import"./CVKWc1jX.js";import"./BPjVUy-D.js";import"./DqkGgfGl.js";import"./BXEMiIsG.js";import"./CFrBDmKk.js";import"./BS1w9-H_.js";import"./DKL8D26R.js";import"./CMen5VeP.js";import"./C-u4_dXc.js";const de=e.lazy((()=>n((()=>import("./C5iILJnb.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])))),me=e.lazy((()=>n((()=>import("./C9gmuDZP.js")),__vite__mapDeps([13,1,2,10,4,11,12,3,5,6,7,8,9])))),xe=e.lazy((()=>n((()=>import("./tOW48VjQ.js")),__vite__mapDeps([14,1,2,10,4,11,12,3,5,6,7,8,9])))),he=e.lazy((()=>n((()=>import("./DWVSrkJm.js")),__vite__mapDeps([15,1,2,10,4,11,12,3,5,6,7,8,9])))),pe=[{path:"/",exact:!0,name:"Home"},{path:"/dashboard",name:"Dashboard",element:de},{path:"/reports",name:"Reports",element:e.lazy((()=>n((()=>import("./DOztx2Lm.js")),__vite__mapDeps([16,1,2,10,4,11,12]))))},{path:"/departments",name:"Departments",element:e.lazy((()=>n((()=>import("./BVUK83VG.js")),__vite__mapDeps([17,1,2,10,4,11,12,14,3,5,6,7,8,9]))))},{path:"/products",name:"Products",element:e.lazy((()=>n((()=>import("./B04leB8K.js")),__vite__mapDeps([18,1,2,10,4,11,12,13,3,5,6,7,8,9,19]))))},{path:"/users",name:"Users",element:e.lazy((()=>n((()=>import("./CDqX9ydP.js")),__vite__mapDeps([20,1,2,10,4,11,12,15,3,5,6,7,8,9]))))},{path:"/new-product",name:"New Product",element:me},{path:"/new-department",name:"New Department",element:xe},{path:"/new-user",name:"New User",element:he},{path:"/logout",name:"Logout",element:e.lazy((()=>n((()=>import("./BfAZIZgy.js")),__vite__mapDeps([21,1,2,3,4,5,6,7,8,9]))))}],je=s.memo((()=>{const s=l().pathname,r=(e=>{const s=[];return e.split("/").reduce(((e,a,r,t)=>{const n=`${e}/${a}`,l=((e,s)=>{const a=s.find((s=>s.path===e));return!!a&&a.name})(n,pe);return l&&s.push({pathname:n,name:l,active:r+1===t.length}),n})),s})(s);return a.jsxs(x,{className:"my-0",children:[a.jsx(h,{href:"/",children:"Home"}),r.map(((s,a)=>e.createElement(h,{...s.active?{active:!0}:{href:s.pathname},key:a},s.name)))]})})),ue=s.memo((()=>a.jsx(p,{fluid:!0,className:"px-4",children:a.jsx(e.Suspense,{fallback:a.jsx(j,{color:"primary"}),children:a.jsxs(c,{children:[pe.map(((e,s)=>e.element&&a.jsx(i,{path:e.path,exact:e.exact,name:e.name,element:a.jsx(e.element,{})},s))),a.jsx(i,{path:"/",element:a.jsx(o,{to:"dashboard",replace:!0})})]})})}))),ye=()=>{const s=e.useRef(),{colorMode:n,setColorMode:l}=u("coreui-free-react-admin-template-theme"),c=r(),i=t((e=>e.sidebarShow));return e.useEffect((()=>{document.addEventListener("scroll",(()=>{s.current&&s.current.classList.toggle("shadow-sm",document.documentElement.scrollTop>0)}))}),[]),a.jsxs(y,{position:"sticky",className:"mb-4 p-0",ref:s,children:[a.jsxs(p,{className:"border-bottom px-4",fluid:!0,children:[a.jsx(f,{onClick:()=>c({type:"set",sidebarShow:!i}),style:{marginInlineStart:"-14px"},children:a.jsx(b,{icon:g,size:"lg"})}),a.jsx(N,{className:"ms-auto",children:a.jsx(v,{children:a.jsx(_,{href:"#",children:a.jsx(b,{icon:w,size:"lg"})})})}),a.jsxs(N,{children:[a.jsxs(C,{variant:"nav-item",placement:"bottom-end",children:[a.jsx(k,{caret:!1,children:"dark"===n?a.jsx(b,{icon:E,size:"lg"}):"auto"===n?a.jsx(b,{icon:z,size:"lg"}):a.jsx(b,{icon:D,size:"lg"})}),a.jsxs(P,{children:[a.jsxs(S,{active:"light"===n,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>l("light"),children:[a.jsx(b,{className:"me-2",icon:D,size:"lg"})," Light"]}),a.jsxs(S,{active:"dark"===n,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>l("dark"),children:[a.jsx(b,{className:"me-2",icon:E,size:"lg"})," Dark"]}),a.jsxs(S,{active:"auto"===n,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>l("auto"),children:[a.jsx(b,{className:"me-2",icon:z,size:"lg"})," Auto"]})]})]}),a.jsx(v,{className:"d-block d-md-none",children:a.jsx(_,{href:"#",children:a.jsx(b,{icon:w,size:"lg"})})}),a.jsx(T,{className:"mx-2 d-none d-md-block",type:"search",placeholder:"Search","aria-label":"Search",size:"sm",style:{width:"300px"}})]})]}),a.jsx(p,{className:"px-4",fluid:!0,children:a.jsx(je,{})})]})},fe=({items:e})=>{const s=(e,s,r,t=!1)=>a.jsxs(a.Fragment,{children:[s||t&&a.jsx("span",{className:"nav-icon",children:a.jsx("span",{className:"nav-icon-bullet"})}),e&&e,r&&a.jsx(R,{color:r.color,className:"ms-auto",size:"sm",children:r.text})]}),r=(e,r,t=!1)=>{const{component:n,name:l,badge:c,icon:i,...o}=e,m=n;return a.jsx(m,{as:"div",children:o.to||o.href?a.jsx(_,{...o.to&&{as:d},...o.href&&{target:"_blank",rel:"noopener noreferrer"},...o,children:s(l,i,c,t)}):s(l,i,c,t)},r)},t=(e,n)=>{const{component:l,name:c,icon:i,items:o,to:d,...m}=e,x=l;return a.jsx(x,{compact:!0,as:"div",toggler:s(c,i),...m,children:null==o?void 0:o.map(((e,s)=>e.items?t(e,s):r(e,s,!0)))},n)};return a.jsx(L,{as:re,children:e&&e.map(((e,s)=>e.items?t(e,s):r(e,s)))})};fe.propTypes={items:ae.arrayOf(ae.any).isRequired};const be=[{component:v,name:"Dashboard",to:"/dashboard",icon:a.jsx(te,{icon:ne,className:"me-2"})},{component:v,name:"Reports",to:"/reports",icon:a.jsx(te,{icon:ne,className:"me-2"})},{component:v,name:"Users",to:"/users",icon:a.jsx(te,{icon:ne,className:"me-2"})},{component:v,name:"Departments",to:"/departments",icon:a.jsx(te,{icon:ne,className:"me-2"})},{component:v,name:"Products",to:"/products",icon:a.jsx(te,{icon:ne,className:"me-2"})}],ge=s.memo((()=>{const e=m(),s=r(),n=t((e=>e.sidebarUnfoldable)),l=t((e=>e.sidebarShow));return a.jsxs(A,{className:"border-end",position:"fixed",unfoldable:n,visible:l,onVisibleChange:e=>{s({type:"set",sidebarShow:e})},children:[a.jsxs(I,{className:"border-bottom",children:[a.jsxs(V,{to:"/",children:[a.jsx(O,{src:"/images/careers_at_apptrade_cover.jpg",className:"sidebar-brand-full rounded",alt:"AppTrade Logo",width:220,height:80}),a.jsx(O,{src:"/favicon.png",className:"sidebar-brand-narrow",alt:"AppTrade Favicon",width:50,height:30})]}),a.jsx(q,{className:"d-lg-none",dark:!0,onClick:()=>s({type:"set",sidebarShow:!1})})]}),a.jsx(fe,{items:be}),a.jsxs(U,{className:"border-top d-none d-lg-flex",children:[a.jsx("span",{onClick:s=>e("/logout"),children:"Logout"}),a.jsx($,{onClick:()=>s({type:"set",sidebarUnfoldable:!n})})]})]})}));ae.string;const Ne=e=>{const{href:s,name:r,text:t,...n}=e,l=r?`https://coreui.io/react/docs/components/${r}`:s;return a.jsx("div",{className:"float-end",children:a.jsx(F,{...n,href:l,rel:"noreferrer noopener",target:"_blank",className:"card-header-action",children:a.jsx("small",{className:"text-body-secondary",children:t||"docs"})})})};Ne.propTypes={href:ae.string,name:ae.string,text:ae.string},s.memo(Ne);const ve=e=>{const{children:s,href:r,tabContentClassName:t}=e,n=`https://coreui.io/react/docs/${r}`;return a.jsxs("div",{className:"example",children:[a.jsxs(G,{variant:"underline-border",children:[a.jsx(v,{children:a.jsxs(_,{href:"#",active:!0,children:[a.jsx(b,{icon:H,className:"me-2"}),"Preview"]})}),a.jsx(v,{children:a.jsxs(_,{href:n,target:"_blank",children:[a.jsx(b,{icon:M,className:"me-2"}),"Code"]})})]}),a.jsx(Q,{className:`rounded-bottom ${t||""}`,children:a.jsx(B,{className:"p-3 preview",visible:!0,children:s})})]})};ve.propTypes={children:ae.node,href:ae.string,tabContentClassName:ae.string},s.memo(ve);const _e=()=>a.jsxs("div",{children:[a.jsx(ge,{}),a.jsxs("div",{className:"wrapper d-flex flex-column min-vh-100",children:[a.jsx(ye,{}),a.jsx("div",{className:"body flex-grow-1",children:a.jsx(ue,{})})]})]}),we=()=>{const[s,r]=e.useState([]),t=s.reduce(((e,s)=>e+s.sale_Price*s.quantity),0),n=e=>{const s=e.target.value.toLowerCase();axios.get(`/products/${s}`).then((e=>{var s;s=e.data[0],r((e=>e.find((e=>e.id===s.id))?e.map((e=>e.id===s.id?{...e,quantity:e.quantity+1}:e)):[...e,{...s,quantity:1}]))})).catch((e=>{console.error("Error searching products:",e)}))};return a.jsxs(K,{style:{height:"100vh"},children:[a.jsxs(J,{children:[a.jsx(T,{className:"rounded-0 py-3 border-0 border-bottom",type:"search",placeholder:"Search product by name or barcode","aria-label":"Search",onKeyDown:e=>{"Enter"===e.key&&(n(e),e.target.value="")}}),a.jsx("div",{style:{height:"calc(100% - 180px)",overflowY:"auto"},children:a.jsxs(Y,{hover:!0,responsive:!0,children:[a.jsx(W,{children:a.jsxs(X,{children:[a.jsx(Z,{scope:"col",children:"Product"}),a.jsx(Z,{scope:"col",children:"Price"}),a.jsx(Z,{scope:"col",children:"Quantity"}),a.jsx(Z,{scope:"col",children:"Total"})]})}),0==s.length?a.jsx("div",{className:"text-center",children:a.jsx("h1",{children:"No items"})}):a.jsx(ee,{children:s.map(((e,s)=>a.jsxs(X,{children:[a.jsx(se,{children:e.name}),a.jsx(se,{children:e.sale_Price}),a.jsx(se,{children:e.quantity}),a.jsx(se,{children:e.sale_Price*e.quantity})]},s)))})]})}),a.jsxs("div",{className:"bg-body-secondary p-2",children:[a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsx("span",{children:"Subtotal:"}),a.jsx("span",{children:t})]}),a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsx("span",{children:"Tax:"}),a.jsx("span",{children:"0.00"})]}),a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsx("strong",{children:"Total:"}),a.jsx("strong",{children:t})]})]})]}),a.jsxs(J,{className:"bg-body-secondary rounded m-2",style:{height:"100vh",width:"100%"},children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3 mt-2 text-center",children:[a.jsxs("div",{className:"py-5 m-1 d-flex flex-column align-items-center border border-secondary",color:"primary",onClick:()=>alert("Delete"),style:{flex:1},children:[a.jsx(te,{icon:le,className:"mb-2",style:{width:"50px",height:"50px"}}),"Delete"]}),a.jsxs("div",{className:"py-5 m-1 d-flex flex-column align-items-center border border-secondary",color:"primary",onClick:()=>alert("Search"),style:{flex:1},children:[a.jsx(te,{icon:ce,className:"mb-2",style:{width:"50px",height:"50px"}}),"Search"]}),a.jsxs("div",{className:"py-5 m-1 d-flex flex-column align-items-center border border-secondary",color:"primary",onClick:()=>alert("Import Products"),style:{flex:1},children:[a.jsx(te,{icon:ie,className:"mb-2",style:{width:"50px",height:"50px"}}),"Quantity"]}),a.jsxs("div",{className:"py-5 m-1 d-flex flex-column align-items-center border border-secondary",color:"primary",onClick:()=>alert("Import Products"),style:{flex:1},children:[a.jsx(te,{icon:oe,className:"mb-2",style:{width:"50px",height:"50px"}}),"New Sale"]})]}),a.jsxs("div",{className:"d-flex justify-content-between align-items-center text-center",children:[a.jsx("div",{className:"py-3 m-1 d-flex flex-column align-items-center border border-secondary",color:"primary",onClick:()=>alert("Cash"),style:{flex:1},children:"Cash"}),a.jsx("div",{className:"py-3 m-1 d-flex flex-column align-items-center border border-secondary",color:"primary",onClick:()=>alert("Credit Card"),style:{flex:1},children:"Credit Card"}),a.jsx("div",{className:"py-3 m-1 d-flex flex-column align-items-center border border-secondary",color:"primary",onClick:()=>alert("Debit Card"),style:{flex:1},children:"Debit Card"})]}),a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3 text-center",children:[a.jsx("div",{className:"py-3 m-1 d-flex flex-column align-items-center border border-secondary",color:"primary",onClick:()=>alert("Check"),style:{flex:1},children:"Check"}),a.jsx("div",{className:"py-3 m-1 d-flex flex-column align-items-center border border-secondary",color:"primary",onClick:()=>alert("Gift Card"),style:{flex:1},children:"Gift Card"}),a.jsx("div",{className:"py-3 m-1 d-flex flex-column align-items-center border border-secondary",color:"primary",onClick:()=>alert("Voucher"),style:{flex:1},children:"Voucher"})]}),a.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3 text-center"})]})]})},Ce=()=>a.jsx(we,{}),ke=()=>{const[s,n]=e.useState("loading"),l=r(),c=t((e=>e.user)),i=m(),o=cookies.get("session_id");return e.useEffect((()=>{(()=>{if(c||o)return(async()=>{try{const e=await axios.post("/auth/verify-session",{session_id:o});l({type:"SET_USER",payload:e.data.user}),n("authenticated")}catch(e){cookies.remove("session_id"),i("/")}})();i("/login")})()}),[i,l]),"loading"===s?a.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:a.jsx("div",{className:"spinner-border",color:"primary",role:"status",children:a.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):["super_admin","admin"].includes(c.role)?a.jsx(_e,{}):a.jsx(Ce,{})},Ee=()=>a.jsx(ke,{});export{Ee as default};
