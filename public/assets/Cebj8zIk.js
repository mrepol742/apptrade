/**
 * Â© 2025 Melvin Jones Repol. All rights reserved.
 * This project is licensed under the MIT License with Commons Clause.
*/
import{r as e,j as a}from"./Cn32OB1o.js";import"./CfN0c7gy.js";import{y as s}from"./InIMjYBq.js";import{$ as t,P as l,R as i,S as r,s as o,aa as n,ab as d,z as c}from"./UOCoyV5_.js";import"./Dph47E3T.js";import"./uZNeay-J.js";import"./DCKxNtYz.js";import"./DKQ8yKpg.js";import"./BeLtu-UY.js";import"./CFrBDmKk.js";import"./DEuonRil.js";import"./k-NSAY8B.js";import"./BS1w9-H_.js";import"./DKL8D26R.js";const m=()=>{const[m,p]=e.useState([]),[x,g]=e.useState([]),[h,u]=e.useState({name:"",code:"",barcode:"",unit_measurement:"",group:"",active:!0,default_quantity:!0,age_restriction:0,description:"",taxes:0,cost_price:0,markup:0,sale_price:0,color:"",image:null}),j=e=>{const{id:a,value:s}=e.target;u((e=>({...e,[a]:s})))},b=e=>{const{id:a,checked:s}=e.target;u((e=>({...e,[a]:s})))},f=e=>{const{id:a,value:s}=e.target;u((e=>({...e,[a]:s})))};return e.useEffect((()=>{(async()=>{const[e,a]=await Promise.all([axios.get("/departments"),axios.get("/groups")]);p(e.data),g(a.data)})()}),[]),a.jsxs(t,{onSubmit:e=>{e.preventDefault(),axios.post("/products",h).then((e=>{if(e.data.error)return s.error(e.data.error);s.success("Product created successfully"),u({name:"",code:"",barcode:"",unit_measurement:"",group:"",active:!0,default_quantity:!0,age_restriction:0,description:"",taxes:0,cost_price:0,markup:0,sale_price:0,color:"",image:null})})).catch((e=>{console.error("Error adding product:",e)}))},className:"border rounded-3 p-4 mx-3",children:[a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsx("h3",{className:"mb-3",children:"New Product"}),a.jsxs("div",{children:[a.jsx(l,{color:"secondary",className:"me-2",size:"sm",children:"Cancel"}),a.jsx(l,{color:"primary",size:"sm",type:"submit",children:"Save"})]})]}),a.jsx("h5",{children:"Details"}),a.jsxs(i,{children:[a.jsx(r,{xs:12,md:6,children:a.jsx(o,{type:"text",id:"name",floatingClassName:"mb-3",floatingLabel:"Name",onChange:j,placeholder:"",required:!0})}),a.jsx(r,{xs:12,md:6,children:a.jsx(n,{id:"department_id",floatingClassName:"mb-3",floatingLabel:"Department",onChange:f,options:[{label:"Select a department",value:""},...m.map((e=>({label:e.name,value:e.id})))]})})]}),a.jsxs(i,{children:[a.jsx(r,{xs:12,md:6,children:a.jsx(o,{type:"text",id:"code",floatingClassName:"mb-3",floatingLabel:"Code",onChange:j,placeholder:""})}),a.jsx(r,{xs:12,md:6,children:a.jsx(o,{type:"text",id:"barcode",floatingClassName:"mb-3",floatingLabel:"Barcode",onChange:j,placeholder:""})})]}),a.jsxs(i,{children:[a.jsx(r,{xs:12,md:6,children:a.jsx(o,{type:"text",id:"unit_measurement",floatingClassName:"mb-3",floatingLabel:"Unit of Measurement",onChange:j,placeholder:""})}),a.jsx(r,{xs:12,md:6,children:a.jsx(n,{id:"group_id",floatingClassName:"mb-3",floatingLabel:"Group",onChange:f,options:[{label:"Select a group",value:""},...x.map((e=>({label:e.name,value:e.id})))]})})]}),a.jsx(d,{onChange:b,label:"Active",id:"is_active",defaultChecked:!0}),a.jsx(d,{onChange:b,label:"Default Quantity",id:"default_quantity",defaultChecked:!0}),a.jsx(o,{type:"number",id:"age_restriction",floatingClassName:"mb-3",floatingLabel:"Age Restriction",onChange:j,placeholder:""}),a.jsx(o,{type:"text",id:"description",floatingClassName:"mb-3",floatingLabel:"Description",onChange:j,placeholder:""}),a.jsx("h5",{children:"Price"}),a.jsxs(i,{children:[a.jsx(r,{xs:12,md:6,children:a.jsx(o,{type:"number",id:"taxes",floatingClassName:"mb-3",floatingLabel:"Taxes %",onChange:j,placeholder:""})}),a.jsx(r,{xs:12,md:6,children:a.jsx(o,{type:"number",id:"cost_price",floatingClassName:"mb-3",floatingLabel:"Cost",onChange:j,placeholder:""})})]}),a.jsxs(i,{children:[a.jsx(r,{xs:12,md:6,children:a.jsx(o,{type:"number",id:"markup",floatingClassName:"mb-3",floatingLabel:"Markup",onChange:j,placeholder:""})}),a.jsx(r,{xs:12,md:6,children:a.jsx(o,{type:"number",id:"sale_price",floatingClassName:"mb-3",floatingLabel:"Sale Price",onChange:j,placeholder:""})})]}),a.jsx("h5",{children:"Image & Color"}),a.jsx(o,{type:"text",id:"color",floatingClassName:"mb-3",floatingLabel:"Color",onChange:j,placeholder:""}),a.jsxs("div",{className:"mb-3",children:[a.jsx(o,{type:"file",id:"image",onChange:e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onloadend=()=>{u((a=>({...a,image:e.result})))},e.readAsDataURL(a)}},accept:"image/*",className:"mb-2"}),a.jsx(l,{color:"secondary",className:"me-2",size:"sm",onClick:()=>{u((e=>({...e,image:null})))},children:"Clear"})]}),h.image&&a.jsx(c,{src:h.image,className:"img-fluid mb-3",alt:"Selected image",style:{maxWidth:"150px",maxHeight:"150px"}})]})};export{m as default};
