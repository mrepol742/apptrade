/**
 * © 2025 Melvin Jones Repol. All rights reserved.
 * This project is licensed under the MIT License with Commons Clause.
*/
import{j as e,r as s}from"./Cn32OB1o.js";import{H as r}from"./CfN0c7gy.js";import i from"./7qQU7VV1.js";import{P as a}from"./uZNeay-J.js";import{F as c,e as l,h as t}from"./Gf_rl4UC.js";import{aa as n,ab as o,R as d,S as j,P as h,T as m,U as x,V as p,W as u,X as g,Y as P}from"./DGxHXmgX.js";import{c as f}from"./Df1MfkuZ.js";import"./Dph47E3T.js";import"./DCKxNtYz.js";import"./DKQ8yKpg.js";import"./CFrBDmKk.js";import"./DEuonRil.js";import"./k-NSAY8B.js";import"./BS1w9-H_.js";import"./DKL8D26R.js";import"./BUTH-fPQ.js";const b=({currentPage:s,setCurrentPage:r,totalPages:i,setTotalPages:a})=>e.jsxs(n,{"aria-label":"Page navigation",children:[e.jsx(o,{onClick:()=>r((e=>Math.max(e-1,1))),disabled:1===s,"aria-label":"Previous",children:e.jsx(c,{"aria-hidden":!0,icon:l})}),(()=>{const a=[],c=Math.max(1,s-2),l=Math.min(i,c+5-1);c>1&&(a.push(e.jsx(o,{onClick:()=>r(1),children:"1"},1)),c>2&&a.push(e.jsx(o,{disabled:!0,children:"…"},"ellipsis-start")));for(let i=c;i<=l;i++)a.push(e.jsx(o,{onClick:()=>r(i),active:s===i,children:i},i));return l<i&&(l<i-1&&a.push(e.jsx(o,{disabled:!0,children:"…"},"ellipsis-end")),a.push(e.jsx(o,{onClick:()=>r(i),children:i},i))),a})(),e.jsx(o,{onClick:()=>r((e=>Math.min(e+1,i))),disabled:s===i,"aria-label":"Next",children:e.jsx(c,{"aria-hidden":!0,icon:t})})]});b.propTypes={currentPage:a.number.isRequired,setCurrentPage:a.func.isRequired,totalPages:a.number.isRequired,setTotalPages:a.func.isRequired};const C=()=>{const a=f(),[c,l]=s.useState([]),[t,n]=s.useState(1),[o,C]=s.useState(0);s.useEffect((()=>{k(t)}),[t]);const k=async e=>{try{const s=await axios.get("/products",{params:{page:e}});l(s.data.data),C(s.data.totalPages),n(s.data.currentPage)}catch(s){console.error("Error fetching Products:",s)}};return e.jsxs("div",{children:[e.jsx(r,{children:e.jsx("title",{children:"Products - Apptrade"})}),e.jsxs(d,{children:[e.jsxs(j,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("h1",{children:"Products"}),e.jsxs("div",{children:[e.jsx(h,{size:"sm",className:"me-1",color:"primary",onClick:()=>alert("Import Products"),children:"Import"}),e.jsx(h,{size:"sm",className:"me-1",color:"primary",onClick:()=>(async()=>{window.open("http://localhost:8000/api/export/products","_blank")})(),children:"Export"}),e.jsx(h,{className:"d-inline d-xl-none",size:"sm",color:"primary",onClick:()=>a("/new-product"),children:"Add"})]})]}),0===c.length?e.jsx("div",{className:"d-flex justify-content-center align-items-center",children:e.jsx("h3",{children:"Loading products..."})}):e.jsxs(e.Fragment,{children:[e.jsxs(m,{striped:!0,bordered:!0,hover:!0,responsive:!0,children:[e.jsx(x,{children:e.jsxs(p,{children:[e.jsx(u,{scope:"col",children:"Name"}),e.jsx(u,{scope:"col",children:"Code"}),e.jsx(u,{scope:"col",children:"Barcode"}),e.jsx(u,{scope:"col",children:"Cost Price"}),e.jsx(u,{scope:"col",children:"Sale Price"}),e.jsx(u,{scope:"col",children:"Stock"}),e.jsx(u,{scope:"col",children:"Department"}),e.jsx(u,{scope:"col",children:"Group"}),e.jsx(u,{scope:"col"})]})}),e.jsx(g,{children:c.map(((s,r)=>e.jsxs(p,{children:[e.jsx(P,{children:s.name}),e.jsx(P,{children:s.code}),e.jsx(P,{children:s.barcode}),e.jsx(P,{children:s.cost_price}),e.jsx(P,{children:s.sale_price}),e.jsx(P,{children:s.is_active?"Yes":"No"}),e.jsx(P,{children:s.department.name}),e.jsx(P,{children:s.group.name}),e.jsx(P,{children:e.jsxs("div",{className:"d-flex",children:[e.jsx(h,{size:"sm",color:"primary",onClick:()=>alert(`Edit ${s.name}`),children:"Edit"}),e.jsx(h,{size:"sm",color:"danger",onClick:()=>alert(`Delete ${s.name}`),className:"ms-2",children:"Delete"})]})})]},s.id)))})]}),e.jsx(b,{currentPage:t,setCurrentPage:n,totalPages:o,setTotalPages:C})]})]}),e.jsx(j,{className:"d-none d-xl-block",children:e.jsx(i,{})})]})]})};export{C as default};
