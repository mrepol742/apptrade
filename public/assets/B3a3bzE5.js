/**
 * Â© 2025 Melvin Jones Repol. All rights reserved.
 * This project is licensed under the MIT License with Commons Clause.
*/
const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BzKAY5Wf.js","assets/BKBoo3Tm.js","assets/9B36_FC7.js","assets/CDvYKuT6.js","assets/ClQOd68B.js","assets/CFrBDmKk.js","assets/CGQw0KJ2.js","assets/k-NSAY8B.js","assets/BS1w9-H_.js","assets/DKL8D26R.js","assets/BDQsf9cj.js","assets/DKE3ELOG.js","assets/KCB0DJBS.js","assets/CPslJtzj.js","assets/Cy9oS-86.js","assets/C_KCb21E.js","assets/BxSAFr0k.js","assets/3MasRu-6.js","assets/BrRZpJ6z.js","assets/CnNhhQpT.js","assets/Bz8kMZeZ.js","assets/DAcSpKKR.js"])))=>i.map(i=>d[i]);
import{r as e,R as s,j as r}from"./BKBoo3Tm.js";import{a as t,u as a}from"./DulU42wa.js";import{_ as n}from"./BuRwOjYd.js";import{u as l,R as o,a as i,N as c,b as d,c as m}from"./CnNhhQpT.js";import{a as u,b as x,c as h,C as p,u as j,d as f,e as y,f as g,g as b,h as v,i as N,j as C,k as w,l as k,m as _,n as S,o as D,p as P,q as E,r as R,s as q,t as T,v as L,w as z,x as M,y as V,z as F,A as I,B as A,D as O,E as Q,F as U,G,H as $,I as H,J,K as W,L as B,M as K,N as X,O as Y,P as Z,Q as ee,R as se,S as re,T as te,U as ae,V as ne,W as le,X as oe}from"./CDvYKuT6.js";import{P as ie}from"./ClQOd68B.js";import{S as ce}from"./BZotIl63.js";import{F as de,f as me,a as ue,b as xe,c as he}from"./BiJqrTLX.js";import{y as pe}from"./ByyKrB4k.js";import"./9B36_FC7.js";import"./BL3MksUi.js";import"./CGQw0KJ2.js";import"./k-NSAY8B.js";import"./CVKWc1jX.js";import"./BPjVUy-D.js";import"./DqkGgfGl.js";import"./BXEMiIsG.js";import"./BeLtu-UY.js";import"./CFrBDmKk.js";import"./BS1w9-H_.js";import"./DKL8D26R.js";import"./BWJu9-zt.js";import"./__7pD5m7.js";const je=e.lazy((()=>n((()=>import("./BzKAY5Wf.js")),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12])))),fe=e.lazy((()=>n((()=>import("./CPslJtzj.js")),__vite__mapDeps([13,1,2,10,4,11,12,3,5,6,7,8,9])))),ye=e.lazy((()=>n((()=>import("./Cy9oS-86.js")),__vite__mapDeps([14,1,2,10,4,11,12,3,5,6,7,8,9])))),ge=e.lazy((()=>n((()=>import("./C_KCb21E.js")),__vite__mapDeps([15,1,2,10,4,11,12,3,5,6,7,8,9])))),be=[{path:"/",exact:!0,name:"Home"},{path:"/dashboard",name:"Dashboard",element:je},{path:"/reports",name:"Reports",element:e.lazy((()=>n((()=>import("./BxSAFr0k.js")),__vite__mapDeps([16,1,2,10,4,11,12]))))},{path:"/departments",name:"Departments",element:e.lazy((()=>n((()=>import("./3MasRu-6.js")),__vite__mapDeps([17,1,2,10,4,11,12,14,3,5,6,7,8,9]))))},{path:"/products",name:"Products",element:e.lazy((()=>n((()=>import("./BrRZpJ6z.js")),__vite__mapDeps([18,1,2,10,4,11,12,13,3,5,6,7,8,9,19]))))},{path:"/users",name:"Users",element:e.lazy((()=>n((()=>import("./Bz8kMZeZ.js")),__vite__mapDeps([20,1,2,10,4,11,12,15,3,5,6,7,8,9]))))},{path:"/new-product",name:"New Product",element:fe},{path:"/new-department",name:"New Department",element:ye},{path:"/new-user",name:"New User",element:ge},{path:"/logout",name:"Logout",element:e.lazy((()=>n((()=>import("./DAcSpKKR.js")),__vite__mapDeps([21,1,2,3,4,5,6,7,8,9]))))}],ve=s.memo((()=>{const s=l().pathname,t=(e=>{const s=[];return e.split("/").reduce(((e,r,t,a)=>{const n=`${e}/${r}`,l=((e,s)=>{const r=s.find((s=>s.path===e));return!!r&&r.name})(n,be);return l&&s.push({pathname:n,name:l,active:t+1===a.length}),n})),s})(s);return r.jsxs(u,{className:"my-0",children:[r.jsx(x,{href:"/",children:"Home"}),t.map(((s,r)=>e.createElement(x,{...s.active?{active:!0}:{href:s.pathname},key:r},s.name)))]})})),Ne=s.memo((()=>r.jsx(h,{fluid:!0,className:"px-4",children:r.jsx(e.Suspense,{fallback:r.jsx(p,{color:"primary"}),children:r.jsxs(o,{children:[be.map(((e,s)=>e.element&&r.jsx(i,{path:e.path,exact:e.exact,name:e.name,element:r.jsx(e.element,{})},s))),r.jsx(i,{path:"/",element:r.jsx(c,{to:"dashboard",replace:!0})})]})})}))),Ce=()=>{const s=e.useRef(),{colorMode:n,setColorMode:l}=j("coreui-free-react-admin-template-theme"),o=t(),i=a((e=>e.sidebarShow));return e.useEffect((()=>{document.addEventListener("scroll",(()=>{s.current&&s.current.classList.toggle("shadow-sm",document.documentElement.scrollTop>0)}))}),[]),r.jsxs(f,{position:"sticky",className:"mb-4 p-0",ref:s,children:[r.jsxs(h,{className:"border-bottom px-4",fluid:!0,children:[r.jsx(y,{onClick:()=>o({type:"set",sidebarShow:!i}),style:{marginInlineStart:"-14px"},children:r.jsx(g,{icon:b,size:"lg"})}),r.jsx(v,{className:"ms-auto",children:r.jsx(N,{children:r.jsx(C,{href:"#",children:r.jsx(g,{icon:w,size:"lg"})})})}),r.jsxs(v,{children:[r.jsxs(k,{variant:"nav-item",placement:"bottom-end",children:[r.jsx(_,{caret:!1,children:"dark"===n?r.jsx(g,{icon:S,size:"lg"}):"auto"===n?r.jsx(g,{icon:D,size:"lg"}):r.jsx(g,{icon:P,size:"lg"})}),r.jsxs(E,{children:[r.jsxs(R,{active:"light"===n,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>l("light"),children:[r.jsx(g,{className:"me-2",icon:P,size:"lg"})," Light"]}),r.jsxs(R,{active:"dark"===n,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>l("dark"),children:[r.jsx(g,{className:"me-2",icon:S,size:"lg"})," Dark"]}),r.jsxs(R,{active:"auto"===n,className:"d-flex align-items-center",as:"button",type:"button",onClick:()=>l("auto"),children:[r.jsx(g,{className:"me-2",icon:D,size:"lg"})," Auto"]})]})]}),r.jsx(N,{className:"d-block d-md-none",children:r.jsx(C,{href:"#",children:r.jsx(g,{icon:w,size:"lg"})})}),r.jsx(q,{className:"mx-2 d-none d-md-block",type:"search",placeholder:"Search","aria-label":"Search",size:"sm",style:{width:"300px"}})]})]}),r.jsx(h,{className:"px-4",fluid:!0,children:r.jsx(ve,{})})]})},we=({items:e})=>{const s=(e,s,t,a=!1)=>r.jsxs(r.Fragment,{children:[s||a&&r.jsx("span",{className:"nav-icon",children:r.jsx("span",{className:"nav-icon-bullet"})}),e&&e,t&&r.jsx(L,{color:t.color,className:"ms-auto",size:"sm",children:t.text})]}),t=(e,t,a=!1)=>{const{component:n,name:l,badge:o,icon:i,...c}=e,m=n;return r.jsx(m,{as:"div",children:c.to||c.href?r.jsx(C,{...c.to&&{as:d},...c.href&&{target:"_blank",rel:"noopener noreferrer"},...c,children:s(l,i,o,a)}):s(l,i,o,a)},t)},a=(e,n)=>{const{component:l,name:o,icon:i,items:c,to:d,...m}=e,u=l;return r.jsx(u,{compact:!0,as:"div",toggler:s(o,i),...m,children:null==c?void 0:c.map(((e,s)=>e.items?a(e,s):t(e,s,!0)))},n)};return r.jsx(T,{as:ce,children:e&&e.map(((e,s)=>e.items?a(e,s):t(e,s)))})};we.propTypes={items:ie.arrayOf(ie.any).isRequired};const ke=[{component:N,name:"Dashboard",to:"/dashboard",icon:r.jsx(de,{icon:me,className:"me-2"})},{component:N,name:"Reports",to:"/reports",icon:r.jsx(de,{icon:me,className:"me-2"})},{component:N,name:"Users",to:"/users",icon:r.jsx(de,{icon:me,className:"me-2"})},{component:N,name:"Departments",to:"/departments",icon:r.jsx(de,{icon:me,className:"me-2"})},{component:N,name:"Products",to:"/products",icon:r.jsx(de,{icon:me,className:"me-2"})}],_e=s.memo((()=>{const e=m(),s=t(),n=a((e=>e.sidebarUnfoldable)),l=a((e=>e.sidebarShow));return r.jsxs(z,{className:"border-end",position:"fixed",unfoldable:n,visible:l,onVisibleChange:e=>{s({type:"set",sidebarShow:e})},children:[r.jsxs(M,{className:"border-bottom",children:[r.jsxs(V,{to:"/",children:[r.jsx(F,{src:"/images/careers_at_apptrade_cover.jpg",className:"sidebar-brand-full rounded",alt:"AppTrade Logo",width:220,height:80}),r.jsx(F,{src:"/favicon.png",className:"sidebar-brand-narrow",alt:"AppTrade Favicon",width:50,height:30})]}),r.jsx(I,{className:"d-lg-none",dark:!0,onClick:()=>s({type:"set",sidebarShow:!1})})]}),r.jsx(we,{items:ke}),r.jsxs(A,{className:"border-top d-none d-lg-flex",children:[r.jsx("span",{onClick:s=>e("/logout"),children:"Logout"}),r.jsx(O,{onClick:()=>s({type:"set",sidebarUnfoldable:!n})})]})]})}));ie.string;const Se=e=>{const{href:s,name:t,text:a,...n}=e,l=t?`https://coreui.io/react/docs/components/${t}`:s;return r.jsx("div",{className:"float-end",children:r.jsx(Q,{...n,href:l,rel:"noreferrer noopener",target:"_blank",className:"card-header-action",children:r.jsx("small",{className:"text-body-secondary",children:a||"docs"})})})};Se.propTypes={href:ie.string,name:ie.string,text:ie.string},s.memo(Se);const De=e=>{const{children:s,href:t,tabContentClassName:a}=e,n=`https://coreui.io/react/docs/${t}`;return r.jsxs("div",{className:"example",children:[r.jsxs(U,{variant:"underline-border",children:[r.jsx(N,{children:r.jsxs(C,{href:"#",active:!0,children:[r.jsx(g,{icon:G,className:"me-2"}),"Preview"]})}),r.jsx(N,{children:r.jsxs(C,{href:n,target:"_blank",children:[r.jsx(g,{icon:$,className:"me-2"}),"Code"]})})]}),r.jsx(H,{className:`rounded-bottom ${a||""}`,children:r.jsx(J,{className:"p-3 preview",visible:!0,children:s})})]})};De.propTypes={children:ie.node,href:ie.string,tabContentClassName:ie.string},s.memo(De);const Pe=()=>r.jsxs("div",{children:[r.jsx(_e,{}),r.jsxs("div",{className:"wrapper d-flex flex-column min-vh-100",children:[r.jsx(Ce,{}),r.jsx("div",{className:"body flex-grow-1",children:r.jsx(Ne,{})})]})]}),Ee=({data:e})=>{const{showDeleteModal:s,setShowDeleteModal:t,products:a,setProducts:n,selectedProduct:l,setSelectedProduct:o}=e;return r.jsx(r.Fragment,{children:r.jsxs(W,{visible:s,onClose:()=>t(!1),"aria-labelledby":"Confirm Delete?",children:[r.jsx(B,{children:r.jsx(K,{id:"LiveDemoExampleLabel",children:"Confirm Delete?"})}),r.jsxs(X,{children:["Woohoo, confirm to delete ",l.length," items?"]}),r.jsxs(Y,{children:[r.jsx(Z,{color:"secondary",onClick:()=>t(!1),children:"Close"}),r.jsx(Z,{color:"primary",onClick:()=>{if(0===l.length)return alert("Select a product");n((e=>e.filter((e=>!l.includes(e.id))))),o([]),t(!1)},children:"Save changes"})]})]})})};Ee.propTypes={data:ie.shape({showDeleteModal:ie.bool.isRequired,setShowDeleteModal:ie.func.isRequired,products:ie.array.isRequired,setProducts:ie.func.isRequired,selectedProduct:ie.array.isRequired,setSelectedProduct:ie.func.isRequired}).isRequired};const Re=({data:s})=>{var t;const{showQuantityModal:a,setShowQuantityModal:n,products:l,setProducts:o,selectedProduct:i,setSelectedProduct:c}=s,d=e.useRef(null),[m,u]=e.useState(null==(t=l.find((e=>i.includes(e.id))))?void 0:t.quantity);return e.useEffect((()=>{}),[]),r.jsx(r.Fragment,{children:r.jsxs(W,{visible:a,onClose:()=>{u(0),n(!1)},"aria-labelledby":"Quantity Input",children:[r.jsxs(X,{children:[r.jsx(q,{type:"number",id:"quantity",placeholder:"Enter quantity",value:m,min:1,max:999,onChange:e=>u(e.target.value),ref:d}),r.jsxs("div",{className:"numpad",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginTop:"15px"},children:[[1,2,3,4,5,6,7,8,9,0].map(((e,s)=>r.jsx(Z,{color:"primary",onClick:()=>u((s=>(s||"")+e)),style:{height:"50px"},children:e},e))),r.jsx(Z,{color:"danger",onClick:()=>u((e=>(null==e?void 0:e.slice(0,-1))||"")),style:{gridColumn:"span 3",width:"100%",height:"50px"},children:"Del"})]})]}),r.jsxs(Y,{children:[r.jsx(Z,{color:"secondary",onClick:()=>n(!1),children:"Close"}),r.jsx(Z,{color:"primary",onClick:()=>{o((e=>e.map((e=>i.includes(e.id)?{...e,quantity:m}:e)))),c([]),n(!1)},children:"Save changes"})]})]})})};Re.propTypes={data:ie.shape({showQuantityModal:ie.bool.isRequired,setShowQuantityModal:ie.func.isRequired,products:ie.array.isRequired,setProducts:ie.func.isRequired,selectedProduct:ie.array.isRequired,setSelectedProduct:ie.func.isRequired}).isRequired};const qe=({data:s})=>{var t;const{showDiscountModal:a,setShowDiscountModal:n,products:l,setProducts:o,selectedProduct:i,setSelectedProduct:c}=s,[d,m]=e.useState(null==(t=l.find((e=>i.includes(e.id))))?void 0:t.discount);return r.jsx(r.Fragment,{children:r.jsxs(W,{visible:a,onClose:()=>{m(0),n(!1)},"aria-labelledby":"Discount Input",children:[r.jsxs(X,{children:[r.jsx(q,{type:"number",id:"discount",placeholder:"Enter discount",value:d,min:1,max:999,onChange:e=>m(e.target.value)}),r.jsxs("div",{className:"numpad",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px",marginTop:"15px"},children:[r.jsx(Z,{color:"primary",onClick:()=>m(20),style:{height:"50px"},children:"Senior"}),r.jsx(Z,{color:"primary",onClick:()=>m(20),style:{height:"50px"},children:"PWD"}),r.jsx(Z,{color:"primary",onClick:()=>m(30),style:{height:"50px"},children:"Employee"}),[1,2,3,4,5,6,7,8,9,0].map(((e,s)=>r.jsx(Z,{color:"outline-primary",onClick:()=>m((s=>(s+""||"")+e)),style:{height:"50px"},children:e},e))),r.jsx(Z,{color:"outline-danger",onClick:()=>m((e=>(null==e?void 0:e.slice(0,-1))||"")),style:{gridColumn:"span 3",width:"100%",height:"50px"},children:"Del"})]})]}),r.jsxs(Y,{children:[r.jsx(Z,{color:"secondary",onClick:()=>n(!1),children:"Close"}),r.jsx(Z,{color:"primary",onClick:()=>d<0?pe.error("Discount cannot be negative"):d>100?pe.error("Discount cannot be more than 100%"):(o((e=>e.map((e=>i.includes(e.id)?{...e,discount:d}:e)))),c([]),void n(!1)),children:"Save changes"})]})]})})};qe.propTypes={data:ie.shape({showDiscountModal:ie.bool.isRequired,setShowDiscountModal:ie.func.isRequired,products:ie.array.isRequired,setProducts:ie.func.isRequired,selectedProduct:ie.array.isRequired,setSelectedProduct:ie.func.isRequired}).isRequired};const Te=()=>{const[s,t]=e.useState([]),[a,n]=e.useState([]),[l,o]=e.useState(null),[i,c]=e.useState(""),[d,m]=e.useState(!1),[u,x]=e.useState(!1),[h,j]=e.useState(!1),[f,y]=e.useState(!1),[g,b]=e.useState(!1),v=s.reduce(((e,s)=>e+s.sale_price*(1-s.discount/100)*s.quantity),0).toFixed(2),N=s.reduce(((e,s)=>{const r=s.sale_price*(1-s.discount/100);return e+(s.taxes?r*s.taxes/100:0)*s.quantity}),0).toFixed(2),C=(parseFloat(v)+parseFloat(N)).toFixed(2),w=e=>{"F2"===e.key?(e.preventDefault(),S()):"F4"===e.key?(e.preventDefault(),_()):"Delete"===e.key&&(e.preventDefault(),D())};e.useEffect((()=>{const e=e=>{if(g)return e.preventDefault(),e.returnValue="",""};return window.addEventListener("beforeunload",e),window.addEventListener("keydown",w),()=>{window.removeEventListener("keydown",w),window.removeEventListener("beforeunload",e)}}),[g]),e.useEffect((()=>{(async()=>{axios.get("/sales-lock").then((e=>{e.data.length>0?(o(!0),t(JSON.parse(e.data))):o(!1)})).catch((e=>{console.error("Error fetching sales lock:",e)}))})()}),[]);const k=e=>{if(l)return pe.error("Sales locked");const s=e.target.value.toLowerCase();axios.get(`/products/${s}`).then((e=>{var s;s=e.data[0],t((e=>e.find((e=>e.id===s.id))?e.map((e=>e.id===s.id?{...e,quantity:e.quantity+1,discount:0}:e)):[...e,{...s,quantity:1,discount:0}])),b(!0)})).catch((e=>{console.error("Error searching products:",e)}))},_=()=>{if(0===a.length)return pe.error("Select a product");x(!0)},S=()=>{j(!0)},D=()=>{if(0===a.length)return pe.error("Select a product");m(!0)};return null===l?r.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100",children:r.jsx(p,{color:"primary"})}):r.jsxs("div",{className:"d-flex flex-column",style:{height:"100vh",userSelect:"none"},children:[r.jsx(Ee,{data:{showDeleteModal:d,setShowDeleteModal:m,products:s,setProducts:t,selectedProduct:a,setSelectedProduct:n}}),r.jsx(Re,{data:{showQuantityModal:u,setShowQuantityModal:x,products:s,setProducts:t,selectedProduct:a,setSelectedProduct:n}}),r.jsx(qe,{data:{showDiscountModal:h,setShowDiscountModal:j,products:s,setProducts:t,selectedProduct:a,setSelectedProduct:n}}),r.jsxs(ee,{className:"flex-grow-1 overflow-hidden",children:[r.jsxs(se,{className:"d-flex flex-column",children:[r.jsx(q,{className:"rounded-0 py-3 border-0 border-bottom",type:"search",placeholder:"Search product by name or barcode","aria-label":"Search",value:i,onChange:e=>{if(c(e.target.value),e.target.value.length>0){const s=(new Date).getTime();if(e.target.lastInputTime){const r=s-e.target.lastInputTime;e.target.lastInputTime=s,r<50&&(k(e),e.target.value="",c(""))}else e.target.lastInputTime=s}},onKeyDown:e=>{"Enter"===e.key&&(k(e),e.target.value="",c(""))}}),r.jsx("div",{className:"flex-grow-1 overflow-auto",children:r.jsxs(re,{hover:!0,responsive:!0,children:[r.jsx(te,{children:r.jsxs(ae,{children:[r.jsx(ne,{scope:"col",children:"Product"}),r.jsx(ne,{scope:"col",children:"Price"}),r.jsx(ne,{scope:"col",children:"Quantity"}),r.jsx(ne,{scope:"col",children:"Total"})]})}),0===s.length?r.jsx("div",{className:"text-center",children:r.jsx("h1",{children:"No items"})}):r.jsx(le,{children:s.map(((e,s)=>{const t=e.taxes?e.sale_price+e.sale_price*e.taxes/100:e.sale_price;return r.jsxs(ae,{active:a.includes(e.id),onClick:()=>(e=>{if(a.includes(e))return n(a.filter((s=>s!==e)));n([...a,e])})(e.id),children:[r.jsx(oe,{children:e.name}),r.jsx(oe,{children:t.toFixed(2)}),r.jsx(oe,{children:e.quantity}),r.jsx(oe,{children:(t*e.quantity).toFixed(2)})]},s)}))})]})}),r.jsxs("div",{className:"bg-body-secondary p-2 mt-auto",children:[r.jsxs("div",{className:"d-flex justify-content-between",children:[r.jsx("span",{children:"Subtotal:"}),r.jsx("span",{children:v})]}),r.jsxs("div",{className:"d-flex justify-content-between",children:[r.jsx("span",{children:"Tax:"}),r.jsx("span",{children:N})]}),r.jsxs("div",{className:"d-flex justify-content-between",children:[r.jsx("strong",{children:"Total:"}),r.jsx("strong",{children:C})]})]})]}),r.jsxs(se,{lg:5,xl:3,className:"d-flex flex-column bg-body-secondary rounded m-2",children:[r.jsxs("div",{className:"flex-grow-1",children:[r.jsxs("div",{className:" d-flex justify-content-between align-items-center mb-3 mt-2 text-center",children:[r.jsxs("div",{className:"rounded py-5 m-1 d-flex flex-column align-items-center border border-secondary "+(a.length>0?"bg-danger":""),onClick:D,style:{flex:1},children:[r.jsx(de,{icon:ue,className:"mb-2",style:{width:"50px",height:"50px"}}),"Delete"]}),r.jsxs("div",{className:"rounded py-5 m-1 d-flex flex-column align-items-center border border-secondary",onClick:_,style:{flex:1},children:[r.jsx(de,{icon:xe,className:"mb-2",style:{width:"50px",height:"50px"}}),"Quantity"]}),r.jsxs("div",{className:"rounded py-5 m-1 d-flex flex-column align-items-center border border-secondary",onClick:()=>{if(0===s.length)return pe.error("No products in cart");t([]),n([])},style:{flex:1},children:[r.jsx(de,{icon:he,className:"mb-2",style:{width:"50px",height:"50px"}}),"New Sale"]})]}),r.jsxs("div",{className:"d-flex justify-content-between align-items-center text-center",children:[r.jsx("div",{className:"rounded py-3 m-1 d-flex flex-column align-items-center border border-secondary",onClick:()=>alert("Cash"),style:{flex:1},children:"Cash"}),r.jsx("div",{className:"rounded py-3 m-1 d-flex flex-column align-items-center border border-secondary",onClick:()=>alert("Credit Card"),style:{flex:1},children:"Credit Card"}),r.jsx("div",{className:"rounded py-3 m-1 d-flex flex-column align-items-center border border-secondary",onClick:()=>alert("Debit Card"),style:{flex:1},children:"Debit Card"})]}),r.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3 text-center",children:[r.jsx("div",{className:"rounded py-3 m-1 d-flex flex-column align-items-center border border-secondary",onClick:()=>alert("Check"),style:{flex:1},children:"Check"}),r.jsx("div",{className:"rounded py-3 m-1 d-flex flex-column align-items-center border border-secondary",onClick:()=>alert("Gift Card"),style:{flex:1},children:"Gift Card"}),r.jsx("div",{className:"rounded py-3 m-1 d-flex flex-column align-items-center border border-secondary",onClick:()=>alert("Voucher"),style:{flex:1},children:"Voucher"})]})]}),r.jsxs("div",{className:"bg-body-secondary p-2 mt-auto",children:[r.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3 text-center",children:[r.jsx("div",{className:"rounded py-3 m-1 d-flex flex-column align-items-center border border-secondary "+(l?"bg-danger":""),onClick:S,style:{flex:1},children:"Discount"}),r.jsx("div",{className:"rounded py-3 m-1 d-flex flex-column align-items-center border border-secondary",onClick:()=>alert("Gift Card"),style:{flex:1}}),r.jsx("div",{className:"rounded py-3 m-1 d-flex flex-column align-items-center border border-secondary",onClick:()=>alert("Voucher"),style:{flex:1}}),r.jsx("div",{className:"rounded py-3 m-1 d-flex flex-column align-items-center border border-secondary",onClick:()=>alert("Voucher"),style:{flex:1}})]}),r.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3 text-center",children:[r.jsx("div",{className:"rounded py-3 m-1 d-flex flex-column align-items-center border border-secondary "+(l?"bg-danger":""),onClick:async()=>{if(0===s.length)return pe.error("No products in cart");axios.post("/sales-lock",{products:l?"[]":JSON.stringify(s),mode:!l}).then((e=>{pe.success(l?"Sales unlocked successfully":"Sales locked successfully"),o(!l)})).catch((e=>{console.error("Error fetching sales lock:",e)}))},style:{flex:1},children:"Lock"}),r.jsx("div",{className:"rounded py-3 m-1 d-flex flex-column align-items-center border border-secondary",onClick:()=>alert("Gift Card"),style:{flex:1},children:"Transfer"}),r.jsx("div",{className:"rounded py-3 m-1 d-flex flex-column align-items-center border border-secondary",onClick:()=>alert("Voucher"),style:{flex:1},children:"Void"}),r.jsx("div",{className:"rounded py-3 m-1 d-flex flex-column align-items-center border border-secondary",onClick:()=>alert("Voucher"),style:{flex:1},children:"Menu"})]})]})]})]})]})},Le=()=>r.jsx(Te,{}),ze=()=>{const[s,n]=e.useState("loading"),l=t(),o=a((e=>e.user)),i=m(),c=cookies.get("session_id");return e.useEffect((()=>{(()=>{if(o||c)return(async()=>{try{const e=await axios.post("/auth/verify-session",{session_id:c});l({type:"SET_USER",payload:e.data.user}),n("authenticated")}catch(e){cookies.remove("session_id"),i("/login")}})();i("/login")})()}),[i,l]),"loading"===s?r.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh"},children:r.jsx("div",{className:"spinner-border",color:"primary",role:"status",children:r.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):["super_admin","admin"].includes(o.role)?r.jsx(Pe,{}):r.jsx(Le,{})},Me=()=>r.jsx(ze,{});export{Me as default};
