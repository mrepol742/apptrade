/**
 * Â© 2025 Melvin Jones Repol. All rights reserved.
 * This project is licensed under the MIT License with Commons Clause.
*/
import{r as e,j as a}from"./BKBoo3Tm.js";import"./BDQsf9cj.js";import{_ as s,P as t,Q as l,R as i,s as n,a9 as o,aa as r,z as d}from"./CDvYKuT6.js";import"./9B36_FC7.js";import"./ClQOd68B.js";import"./DKE3ELOG.js";import"./KCB0DJBS.js";import"./CFrBDmKk.js";import"./CGQw0KJ2.js";import"./k-NSAY8B.js";import"./BS1w9-H_.js";import"./DKL8D26R.js";const c=()=>{const[c,m]=e.useState([]),[p,x]=e.useState([]),[g,h]=e.useState({name:"",code:"",barcode:"",unit_measurement:"",group:"",active:!0,default_quantity:!0,age_restriction:0,description:"",taxes:0,cost_price:0,markup:0,sale_price:0,color:"",image:null}),u=e=>{const{id:a,value:s}=e.target;h((e=>({...e,[a]:s})))},j=e=>{const{id:a,checked:s}=e.target;h((e=>({...e,[a]:s})))},b=e=>{const{id:a,value:s}=e.target;h((e=>({...e,[a]:s})))};return e.useEffect((()=>{(async()=>{const[e,a]=await Promise.all([axios.get("/departments"),axios.get("/groups")]);m(e.data),x(a.data)})()}),[]),a.jsxs(s,{onSubmit:e=>{e.preventDefault(),axios.post("/products",g).then((e=>{alert("Product added successfully"),h({name:"",code:"",barcode:"",unit_measurement:"",group:"",active:!0,default_quantity:!0,age_restriction:0,description:"",taxes:0,cost_price:0,markup:0,sale_price:0,color:"",image:null})})).catch((e=>{console.error("Error adding product:",e)}))},className:"border rounded-3 p-4 mx-3",children:[a.jsxs("div",{className:"d-flex justify-content-between",children:[a.jsx("h3",{className:"mb-3",children:"New Product"}),a.jsxs("div",{children:[a.jsx(t,{color:"secondary",className:"me-2",size:"sm",children:"Cancel"}),a.jsx(t,{color:"primary",size:"sm",type:"submit",children:"Save"})]})]}),a.jsx("h5",{children:"Details"}),a.jsxs(l,{children:[a.jsx(i,{xs:12,md:6,children:a.jsx(n,{type:"text",id:"name",floatingClassName:"mb-3",floatingLabel:"Name",onChange:u,placeholder:"",required:!0})}),a.jsx(i,{xs:12,md:6,children:a.jsx(o,{id:"department_id",floatingClassName:"mb-3",floatingLabel:"Department",onChange:b,options:[{label:"Select a department",value:""},...c.map((e=>({label:e.name,value:e.id})))]})})]}),a.jsxs(l,{children:[a.jsx(i,{xs:12,md:6,children:a.jsx(n,{type:"text",id:"code",floatingClassName:"mb-3",floatingLabel:"Code",onChange:u,placeholder:""})}),a.jsx(i,{xs:12,md:6,children:a.jsx(n,{type:"text",id:"barcode",floatingClassName:"mb-3",floatingLabel:"Barcode",onChange:u,placeholder:""})})]}),a.jsxs(l,{children:[a.jsx(i,{xs:12,md:6,children:a.jsx(n,{type:"text",id:"unit_measurement",floatingClassName:"mb-3",floatingLabel:"Unit of Measurement",onChange:u,placeholder:""})}),a.jsx(i,{xs:12,md:6,children:a.jsx(o,{id:"group_id",floatingClassName:"mb-3",floatingLabel:"Group",onChange:b,options:[{label:"Select a group",value:""},...p.map((e=>({label:e.name,value:e.id})))]})})]}),a.jsx(r,{onChange:j,label:"Active",id:"is_active",defaultChecked:!0}),a.jsx(r,{onChange:j,label:"Default Quantity",id:"default_quantity",defaultChecked:!0}),a.jsx(n,{type:"number",id:"age_restriction",floatingClassName:"mb-3",floatingLabel:"Age Restriction",onChange:u,placeholder:""}),a.jsx(n,{type:"text",id:"description",floatingClassName:"mb-3",floatingLabel:"Description",onChange:u,placeholder:""}),a.jsx("h5",{children:"Price"}),a.jsxs(l,{children:[a.jsx(i,{xs:12,md:6,children:a.jsx(n,{type:"number",id:"taxes",floatingClassName:"mb-3",floatingLabel:"Taxes %",onChange:u,placeholder:""})}),a.jsx(i,{xs:12,md:6,children:a.jsx(n,{type:"number",id:"cost_price",floatingClassName:"mb-3",floatingLabel:"Cost",onChange:u,placeholder:""})})]}),a.jsxs(l,{children:[a.jsx(i,{xs:12,md:6,children:a.jsx(n,{type:"number",id:"markup",floatingClassName:"mb-3",floatingLabel:"Markup",onChange:u,placeholder:""})}),a.jsx(i,{xs:12,md:6,children:a.jsx(n,{type:"number",id:"sale_price",floatingClassName:"mb-3",floatingLabel:"Sale Price",onChange:u,placeholder:""})})]}),a.jsx("h5",{children:"Image & Color"}),a.jsx(n,{type:"text",id:"color",floatingClassName:"mb-3",floatingLabel:"Color",onChange:u,placeholder:""}),a.jsxs("div",{className:"mb-3",children:[a.jsx(n,{type:"file",id:"image",onChange:e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onloadend=()=>{h((a=>({...a,image:e.result})))},e.readAsDataURL(a)}},accept:"image/*",className:"mb-2"}),a.jsx(t,{color:"secondary",className:"me-2",size:"sm",onClick:()=>{h((e=>({...e,image:null})))},children:"Clear"})]}),g.image&&a.jsx(d,{src:g.image,className:"img-fluid mb-3",alt:"Selected image",style:{maxWidth:"150px",maxHeight:"150px"}})]})};export{c as default};
